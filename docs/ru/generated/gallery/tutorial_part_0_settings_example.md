
<!--
 DO NOT EDIT.
 THIS FILE WAS AUTOMATICALLY GENERATED BY mkdocs-gallery.
 TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
 "docs/ru/examples/tutorial_part_0_settings_example.py"
 LINE NUMBERS ARE GIVEN BELOW.
-->

!!! note

    Click [here](#download_links)
    to download the full example code or to run this example in your browser via Binder


# CulicidaeLab Settings Module Example

This notebook demonstrates how to use the settings module in CulicidaeLab.

<!-- GENERATED FROM PYTHON SOURCE LINES 6-108 -->




Out:
{: .mkd-glr-script-out }

```{.shell .mkd-glr-script-out-disp }
Config directory: C:\Users\lenova\CascadeProjects\culicidaelab\culicidaelab\conf
Models directory: C:\Users\lenova\AppData\Local\culicidaelab\culicidaelab\models
Datasets directory: C:\Users\lenova\AppData\Local\culicidaelab\culicidaelab\datasets
Cache directory: C:\Users\lenova\AppData\Local\culicidaelab\culicidaelab\Cache
Model weights paths:
Detection: C:\Users\lenova\AppData\Local\culicidaelab\culicidaelab\models\weights\detection\culico-net-det-v1-nano.pt
Segmentation: C:\Users\lenova\AppData\Local\culicidaelab\culicidaelab\models\weights\segmentation\sam2.1_hiera_tiny.pt
Classification: C:\Users\lenova\AppData\Local\culicidaelab\culicidaelab\models\weights\classification\culico-net-cls-v1-17.pkl
Species mapping:
Class 0: Aedes aegypti
Class 1: Aedes albopictus
Class 2: Aedes canadensis
Class 3: Aedes dorsalis
Class 4: Aedes geniculatus
Class 5: Aedes koreicus
Class 6: Aedes triseriatus
Class 7: Aedes vexans
Class 8: Anopheles arabiensis
Class 9: Anopheles freeborni
Class 10: Anopheles sinensis
Class 11: Species not defined
Class 12: Culex inatomii
Class 13: Culex pipiens
Class 14: Culex quinquefasciatus
Class 15: Culex tritaeniorhynchus
Class 16: Culiseta annulata
Class 17: Culiseta longiareolata

Metadata for Aedes aegypti:
common_name: Yellow fever mosquito
taxonomy: {'family': 'Culicidae', 'subfamily': 'Culicinae', 'genus': 'Aedes', 'subgenus': 'Stegomyia', 'species_complex': None}
metadata: {'vector_status': True, 'diseases': ['Yellow fever', 'Dengue', 'Zika'], 'habitat': 'Urban', 'breeding_sites': ['Artificial containers', 'Tree holes'], 'sources': ['https://www.cdc.gov/zika/geo/aedes-aegypti.html']}
Custom config directory: custom_configs
Using default configs: False

```







<br />

```{.python }

import os
import yaml

from culicidaelab.core.settings import get_settings

# ## 1. Using Default Settings
#
# Get the default settings instance. This will use configurations from the default_configs directory.

# +
# Get default settings
settings = get_settings()

# Print some basic information
print(f"Config directory: {settings.config_dir}")
print(f"Models directory: {settings.model_dir}")
print(f"Datasets directory: {settings.dataset_dir}")
print(f"Cache directory: {settings.cache_dir}")
# -

# ## 2. Working with Model Weights
#
# Demonstrate how to get model weights paths and handle downloads.

# +
# Get paths for different model types
detection_weights = settings.get_model_weights_path("detector")
segmentation_weights = settings.get_model_weights_path("segmenter")
classification_weights = settings.get_model_weights_path("classifier")

print("Model weights paths:")
print(f"Detection: {detection_weights}")
print(f"Segmentation: {segmentation_weights}")
print(f"Classification: {classification_weights}")
# -

# ## 3. Working with Species Configuration
#
# Access species information from the configuration.

# +
# Get species configuration
species_config = settings.species_config

# Print species mapping
print("Species mapping:")
for idx, species in species_config.species_map.items():
    print(f"Class {idx}: {species}")

# Print metadata for a specific species
species_name = "Aedes aegypti"
metadata = species_config.get_species_metadata(species_name)
if isinstance(metadata, dict):
    print(f"\nMetadata for {species_name}:")
    for key, value in metadata.items():
        print(f"{key}: {value}")
# -

# ## 4. Using Custom Configuration
#
# Demonstrate how to use custom configuration directory.

# +

# Create a custom config directory
custom_config_dir = "custom_configs"
os.makedirs(custom_config_dir, exist_ok=True)

# Example minimal config with required "species" key
example_config = {
    "species": {
        "species_map": {0: "Aedes aegypti", 1: "Anopheles gambiae"},
        "metadata": {
            "Aedes aegypti": {"color": "yellow", "region": "tropical"},
            "Anopheles gambiae": {"color": "brown", "region": "Africa"},
        },
    },
}

# Write example config.yaml if it doesn't exist
config_file_path = os.path.join(custom_config_dir, "config.yaml")
if not os.path.exists(config_file_path):
    with open(config_file_path, "w") as f:
        yaml.safe_dump(example_config, f)

# Validate the custom configuration directory contains the required key
required_key = "species"
with open(config_file_path) as file:
    config_data = yaml.safe_load(file)
    if required_key not in config_data:
        raise KeyError(
            f"Missing required key '{required_key}' in custom configuration file.",
        )

# Get settings with custom config directory
custom_settings = get_settings(config_dir=custom_config_dir)

print(f"Custom config directory: {custom_settings.config_dir}")

# Note: This will use default configs if custom configs are not found
print(f"Using default configs: {custom_settings.config_dir == settings.config_dir}")
```


**Total running time of the script:** ( 0 minutes  0.081 seconds)

<div id="download_links"></div>

[![Launch binder](./images/binder_badge_logo.svg)](https://mybinder.org/v2/gh/iloncka-ds/culicidaelab/gh-pages?urlpath=lab/tree/docs/en/examples/ru/generated/gallery/tutorial_part_0_settings_example.ipynb){ .center}

[:fontawesome-solid-download: Download Python source code: tutorial_part_0_settings_example.py](./tutorial_part_0_settings_example.py){ .md-button .center}

[:fontawesome-solid-download: Download Jupyter notebook: tutorial_part_0_settings_example.ipynb](./tutorial_part_0_settings_example.ipynb){ .md-button .center}


[Gallery generated by mkdocs-gallery](https://smarie.github.io/mkdocs-gallery){: .mkd-glr-signature }
